# KISAN-DRISHTI Backend Environment Configuration
# Copy this file to .env and update with your values

# ================================
# SERVER CONFIGURATION
# ================================
NODE_ENV=development
PORT=3000
API_VERSION=v1
APP_NAME=KISAN-DRISHTI

# ================================
# DATABASE (PostgreSQL)
# ================================
DATABASE_URL=postgresql://kisan_user:your_secure_password@localhost:5432/kisan_drishti
DB_POOL_SIZE=20
DB_TIMEOUT=10000

# ================================
# REDIS CACHE
# ================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=kd:

# Cache TTL (in seconds)
CACHE_TTL_PRICES=300        # 5 minutes
CACHE_TTL_MANDIS=3600       # 1 hour
CACHE_TTL_USERS=1800        # 30 minutes

# ================================
# AUTHENTICATION & SECURITY
# ================================
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-this-in-production
JWT_EXPIRY=24h
REFRESH_TOKEN_EXPIRY=7d
BCRYPT_ROUNDS=10

# Session
SESSION_SECRET=your-session-secret-key-change-in-production
SESSION_EXPIRY_HOURS=720    # 30 days for farmers

# ================================
# CORS & SECURITY
# ================================
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:3001,https://kisan-drishti.gov.in
CORS_CREDENTIALS=true

# ================================
# RATE LIMITING
# ================================
RATE_LIMIT_WINDOW_MS=900000    # 15 minutes
RATE_LIMIT_MAX=100             # Max requests per window
RATE_LIMIT_ADMIN_MAX=500       # Higher limit for admins

# ================================
# WEBSOCKET
# ================================
ENABLE_WEBSOCKET=true
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=5000

# ================================
# LOGGING
# ================================
LOG_LEVEL=info
LOG_FILE_PATH=logs/
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14d

# ================================
# FEATURES
# ================================
ENABLE_VOICE=true
ENABLE_SMS_VERIFICATION=false
ENABLE_ANALYTICS=true
ENABLE_AUDIT_LOGS=true

# ================================
# EXTERNAL SERVICES (Optional)
# ================================
# SMS Provider (for phone verification)
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=
SMS_AUTH_TOKEN=
SMS_FROM_NUMBER=

# Weather API (for dashboard integration)
WEATHER_API_KEY=
WEATHER_API_URL=https://api.openweathermap.org/data/2.5

# Maps API (for mandi distance calculation)
MAPS_API_KEY=

# ================================
# MONITORING & ALERTS
# ================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# ================================
# ADMIN DEFAULT CREDENTIALS
# ================================
# Used for initial admin account seeding
DEFAULT_ADMIN_EMAIL=admin@kisan-drishti.gov.in
DEFAULT_ADMIN_PASSWORD=ChangeMeInProduction!123
DEFAULT_ADMIN_NAME=System Administrator

# ================================
# DATA SYNC
# ================================
SYNC_VERSION_INCREMENT=auto
SYNC_SNAPSHOT_TTL=3600     # 1 hour

# ================================
# OFFLINE SUPPORT
# ================================
OFFLINE_DATA_DAYS=7        # Days of historical data for offline mode

# ================================
# DEVELOPMENT & TESTING
# ================================
SEED_DATA_ON_START=false
ENABLE_REQUEST_LOGGING=true
PRETTY_LOGS=true

# Test Database (separate from production)
TEST_DATABASE_URL=postgresql://kisan_user:password@localhost:5432/kisan_drishti_test
